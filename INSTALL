rBuilder Appliance Installation Quick Start Guide

This document describes the steps necessary to install the rBuilder
software appliance on the hardware you've provided.

Prerequisites
-------------

Before you begin, make sure you have the necessary hardware and network
connectivity in place, namely:

    o A network-connected dedicated x86 server with at least 40GB of local
      storage, a CD-ROM or DVD-ROM drive (You will need a DVD-ROM drive if
      you intend to locally mirror rPath Linux 1 and preload the mirror
      from DVDs).  The server must be configured to boot from the
      CD-ROM/DVD-ROM.

      NOTE: rBuilder is packaged as a software appliance.  As such, it is
      configured to run on dedicated hardware, including all
      locally-attached disk storage.  DO NOT INSTALL ON HARDWARE CONTAINING
      DATA YOU WISH TO KEEP -- THIS INSTALLATION WILL WIPE ALL LOCAL
      STORAGE!

    o A network connection for the server with either a static or dynamic
      IP address accessible by an unchanging fully-qualified domain name
      (the FQDN we will use throughout this document is
      rbuilder.example.com)

      NOTE: rPath recommends that the server be set up to receive a
      DHCP-provided hostname and IP address before installation.

    o A network-connected system capable of running a Web browser

    o A set of rPath Linux 1 mirror DVDs (if you intend to locally mirror
      rPath Linux 1 and preload the mirror)

Installation Procedure
------------ ---------

Once you have the necessary materials available, it is time to install the
rBuilder Appliance:

1. Insert the rBuilder Appliance CD-ROM into the server's CD-ROM drive and
   boot the computer, ensuring that it boots from the CD-ROM.

    WARNING: PERFORMING THIS INSTALLATION WILL DELETE ALL PRE-EXISTING DATA
    ON THIS SYSTEM!

2. Follow the on-screen instructions during the installation, taking care
   to note the following points related to filesystem creation:

    o During installation, you can choose to automatically or manually
      partition the system.  In most cases, you should choose the default
      (which is to automatically partition) -- you will be given the
      opportunity to review and, if necessary, modify the the default
      partitions.

    o The rBuilder Appliance stores all its data under /srv/; a dedicated
      filesystem with sufficient storage must be allocated for this
      purpose.  Note that the default partitioning settings allocate the
      bulk of the system's local storage to /srv/ for you.

3. When the installation finishes, reboot (making sure to configure the
   system to boot from its primary disk drive).

Initial Configuration
------- -------------

Next, you must configure the rBuilder Appliance to reflect your
organization's environment:

1. When the server has finished booting, use a Web browser to access the
   server.  Use a URL in the form "http://rbuilder.example.com/", replacing
   "rbuilder.example.com" with your server's fully-qualified domain name.

   NOTE: you MUST use the fully-qualified domain name to access the server!

2. Next, the rBuilder Appliance configuration dialog appears.  Fill in
   following fields as appropriate for your organization:

    o Branding -- The fields in the "Branding" section are used to both
      identify the rBuilder Appliance in communications with its users, and
      to link the appliance to your organization's website.

    o Server Setup -- The fields in this section, when combined, form the
      fully-qualified domain name for the rBuilder Appliance.  Initially,
      these fields contain values for hostname and domain extracted from
      the rBuilder Appliance's network configuration; change them if
      necessary (for example, if you are performing the initial
      installation and configuration on a network different from the one
      where the appliance will be deployed).

    o Repository Setup -- This field should be set to a value appropriate
      for your intended usage of the rBuilder Appliance.  rPath recommends
      using the following format:

        <organization>:<product>-<version>-<stage>

      Where:

        - <organization> is a string representing your organization's
          identity.

        - <product> is a string representing the product being developed.

        - <version> is a string representing the product's major revision
          (for example, 1, 2, etc).

        - <stage> is string representing stages within your organization's
          development process (for example, devel, test, etc.)  It may be
          omitted in all cases, or for specific stages only (included for
          development code, omitted for shipping code, for example).

    o Initial Administrator Account -- These fields define the username,
      password, and email address of the rBuilder Appliance's first
      administrator.  An account with this information will be created that
      will have complete access to the rBuilder Appliance environment.

      NOTE: Additional accounts with administrative privileges can be
      created later.

3. Click on the "Save Changes" button to save your configuration.

4. Once the configuration process is complete, a new page will be
   displayed.  Click on the "Launch" button to start the rBuilder
   Appliance, making it available to your users.  After a short delay you
   will be directed to the main rBuilder Appliance home page.

rAA Configuration
--- -------------

Now that the rBuilder Appliance is up and running, it is time to configure
it from a system-level perspective.  For that, it is necessary to use the
Appliance's rAA (rPath Appliance Agent) interface  rAA makes it possible
for your rBuilder Appliance to receive updated software, and perform other
system-level tasks:

1. Log in using the username and password you specified for in the
   configuration dialog's "Initial Administrator Account" section. Click on
   the "Site Administration" link at the bottom of the orange box on the
   right.

2. The rBuilder Appliance administration menu is now displayed.  Click on
   the "Enter rPath Appliance Agent" link to launch the system-level
   administrative interface.

3. A new browser window will be launched.  You may see warning messages
   about the certificate being used not being created by a recognized
   Certificate Authority; this is normal.

4. The rAA "sign in" box appears in the new window.  Sign in using the
   following information (you will be changing the password in a moment):

    o Username: admin
    o Password: password

5. The rAA interface is now displayed.  Because this is the first time rAA
   has been used on your rBuilder Appliance, you will be directed through
   the rAA Wizard to perform the necessary first-time configuration.  Click
   on the "OK" button.

6. Next, the rAA Wizard steps you through the following configuration
   dialogs:

    o Change Password -- Enter the current rAA administrator password and
      the new password.  Click on the "Change Password" button.

    o Email Configuration -- Enter the FQDN of the system that accepts
      email sent within your organization, and an email address that should
      be used as the "from" address for all email sent by rAA.  Click on
      the "OK" button.

    o Email Notification Addresses -- Follow the on-screen instructions to
      add one or more email addresses that should receive email
      notifications from rAA.  When finished, click on the "OK" button.

    o Entitlement Management -- Entitlements control access to rBuilder
      Appliance software updates.  Enter the rBuilder Appliance entitlement
      you've received, and click on the "Apply" button.

7. No further rAA configuration is necessary at this time.  Click on the
   "logout" link on the right side of the upper navigation bar, and close
   this browser window.

Adding an Externally-Managed Project
------ -- ------------------ -------

The final step before your developers can begin to use your rBuilder
Appliance is to create a project that makes the rPath Linux development
environment available.  This is known as an externally-managed project, as
the project does not originate on your rBuilder Appliance, but is external
to it:

1. In the "Administration Menu" page, you'll find a link entitled "Add
   Externally-Managed Project".  Click on it.

2. The "Add External Project" page will then appear.  The fields on this
   page are pre-populated to add rPath Linux as an external project.  At
   the bottom of the page are two checkboxes:

    o External repository requires authentication -- Checking this box
      indicates that the repository in question requires authentication for
      access.  It also exposes controls that allow the entry of an
      entitlement or a username and password.

      NOTE: The repository containing rPath Linux requires
      entitlement-level authentication for access.  Therefore, check the
      "External repository requires authentication" checkbox, the "Use an
      entitlement" radio button, and fill in the "Entitlement Class" and
      Entitlement Key" fields with the values from your rPath-provided
      entitlement.

    o Mirror this repository locally -- Checking this box indicates that
      you want your rBuilder Appliance to have a local copy of the rPath
      Linux 1 repository instead of accessing it remotely when needed.  The
      rPath Linux 1 repository will be checked for updates (and the local
      mirror updated) once an hour.  It also exposes controls that allow
      you to use preload the mirror with a set of CDs/DVDs.  Check the
      checkbox if you have a set of mirror preload media.  Click on the
      "Add" button.

      NOTE: Mirroring rPath Linux 1 requires a significant commitment of
      disk space; currently, this takes 12GB (plus another 12GB temporarily
      during the priming operation, if you choose to preload the mirror
      from DVDs).

3. If you selected a local mirror and choose to preload it using preload
   media, you will be prompted to insert the first disc, and click on the
   "Start Import" button.  Regularly-updated progress messages will be
   displayed as the preload media is copied and verified, and you will be
   prompted to change media as required.

4: You will then be directed to your rBuilder Appliance's local rPath
    Linux project page.  Note that you are listed as a project owner;
    however, given that the rPath Linux project is external, some links
    (such as Group Builder) are not fully functional, given the read-only
    nature of the rPath Linux repository.

    NOTE: The rPath Linux repository will not be fully integrated into your
    rBuilder Appliance's environment immediately; however, functions such
    as package search will work within the hour, as the local repository
    index is populated.

Creating a New Project
-------- - --- -------

Your rBuilder Appliance is now completely configured for development.  At
this point, you can either let your organization's developers create the
project(s) they require, or do it for them.  The following instructions
apply to either approach (once a valid rBuilder Appliance account has been
created and logged in):

1. From the rBuilder Appliance front page, click on the "Create a new
   project" link in the account information tile on the right.

2. The "Create a Project" page is displayed.  The following fields must be
   filled in:

    o Project Title -- The project title should be a short, descriptive
      phrase that describes your title.

    o Project Name -- The project name is a short string that is used to
      identify your project throughout the rBuilder Appliance.  It also
      acts as the hostname part of your project's Conary repository label.

   The remaining fields do not require any additional input.  However, you
   should carefully consider the value of the "domainname" field.  The
   guide text (and associated "learn more" link) has additional
   information to help you decide on the settings appropriate for your
   situation.

Additional Notes
---------- -----

The following notes contain additional information about your rBuilder
Appliance:

    Text editor -- Your rBuilder Appliance includes the nano text editor.
    Under normal circumstances it should not be necessary to directly edit
    files (all normal configuration is done via the Web-based
    administrative interface), but should the need arise the editor can be
    launched by entering the "nano" command.
