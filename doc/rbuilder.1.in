.\" Copyright (c) 2005-2007 rPath, Inc.
.TH RBUILDER 1 "20 Oct 2006" "rPath, Inc."
.SH NAME
rbuilder \- Command-line interface to rBuilder
.SH SYNOPSIS
.B rbuilder \fIcommand \fR[\fI<args>\fR]
.SH DESCRIPTION
\fBrbuilder\fR is the command-line interface to rBuilder.  Use \fBrbuilder\fR 
to automate various aspects of rBuilder's operation.

.SH REFERENCE
\fBrbuilder\fR includes commands to create a build, wait for a given build
to complete, display the URLs associated with a given build, create a new
rBuilder user, add a user to a project, and display rBuilder's
configuration.

\fBNOTE:\fR Before using \fBrbuilder\fR you must configure it.  See the
\fIFILES\fR section for configuration information.

.SS COMMANDS

.TP 4
.B build-create \fI<project-name>\fR \fI<trove-spec>\fR \fI<image-type>\fR [\fB--wait\fR] [\fB--timeout \fB\fI<seconds>\fR] [\fB--option '\fI<key>\fR \fI<value>\fR'\fR ...]

Creates a build based on the following information:

\fI<project-name>\fR -- the desired project's hostname

\fI<trove-spec>\fR -- a group trove specification containing at least
a group name and a label. For example: group-dist=conary.rpath.com@rpl:1.

\fI<image-type>\fR -- use \fBrbuilder --help\fR to display the list of supported
image types

Returns a build ID in a form suitable for use with \fBeval\fR
(such as BUILD_ID=100).  Use the \fB--wait\fR option with 
\fBbuild-create\fR to block until the build completes, and the
\fB--timeout\fR option to force the \fBrbuilder\fR command to exit
after the specified number of seconds whether the build has completed
or not.

Set specific build options using \fB--option=\fI'<key> <value>'\fR
where <key> is the name of the option and <value> is the value
you wish to set for that option.  Options not specified will
apply the default values for those options.  Specify multiple options
by using \fB--option\fR multiple times.

Use \fBrbuilder --help\fR to display the list of supported build options.

.TP 4
.B build-wait \fI<build-id>\fR [\fB--timeout \fB\fI<seconds>\fR]

Waits for the build specified by \fI<build-id>\fR.  Use the
\fB--timeout\fR option to force the \fBrbuilder\fR command to exit
after the specified number of seconds whether the build has completed
or not.

.TP 4
.B build-url \fI<build-id>\fR

Lists the URLs of each file created by build \fI<build-id>\fR.

.TP 4
.B user-create \fI<username>\fR \fI<email>\fR [\fB--password\fR \fI<password>\fR]

Creates a new rBuilder user. If a password is not specified, you will be prompted to enter one.

.TP 4
.B project-add \fI<username>\\fR \fI<project-name>\fR <\fBowner\fR|\fBdeveloper\fR>

Adds a user to an existing rBuilder project with either \fBowner\fR
or \fBdeveloper\fR status.

.TP 4
.B config

Displays the current \fBrbuilder\fR configuration settings.

.SS OPTIONS

.TP 4
.B --version

Displays the \fBrbuilder\fR version number.

.TP 4
.B -h, --help

Displays usage information for the rbuilder command.

.SS COMMON OPTIONS

.TP 4
.B --config=\fI<key>\fR \fI<value>\fR

Sets the configuration of  \fI<key>\fR to \fI<value>\fR.  This will overwrite
settings in the rbuilder configuration file.

.TP 4
.B --config-file=\fI<path>\fR

Uses the configuration file \fI<path>\fR for the single command execution.

.TP 4
.B --debug

Displays debugging information (currently unimplemented).

.SH FILES
.\" do not put excess space in the file list
.PD 0
.TP 4
\fI$HOME/.rbuilderrc
The configuration file for \fBrbuilder\fR.  This file must contain a
\fBserverUrl\fR line in the following form:

serverUrl http://\fI<username>\fR:\fI<password>\fR@\fI<rbuilder>\fR/xmlrpc-private/

Where:

\fI<username>\fR is the rBuilder username with project developer or owner 
access to the desired project

\fI<password>\fR is the rBuilder password corresponding with the username

\fI<rbuilder>\fR is the fully-qualified domain name of the rBuilder
instance

.SH BUGS
Please report bugs via http://issues.rpath.com/
.\"
.\"
.\"
.SH "SEE ALSO"
http://www.rpath.com/
.br
http://wiki.rpath.com/?version=@version@
